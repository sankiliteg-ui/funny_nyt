<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aura Recognition System</title>
    <style>
        :root {
            --primary: #00f2fe;
            --accent: #4facfe;
            --bg-dark: #020205;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            height: 100vh;
            background-color: var(--bg-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', sans-serif;
            color: white;
            overflow: hidden;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1;
            width: 100%;
            height: 100%;
        }

        /* --- UI Layers --- */
        .container {
            z-index: 10;
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 20px;
            transition: all 0.8s ease;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3rem 1.5rem;
            border-radius: 40px;
            text-align: center;
            box-shadow: 0 0 50px rgba(0,0,0,0.9);
            width: 100%;
            max-width: 380px;
        }

        /* --- Scanner UI --- */
        .scanner-container {
            width: 150px;
            height: 150px;
            margin: 30px auto;
            position: relative;
        }

        .scan-ring {
            position: absolute;
            width: 100%; height: 100%;
            border-radius: 50%;
            border: 2px solid rgba(0, 242, 254, 0.1);
            border-top: 3px solid var(--primary);
            animation: spin 2s linear infinite;
        }

        .finger-btn {
            position: absolute;
            top: 15px; left: 15px;
            width: 120px; height: 120px;
            border-radius: 50%;
            background: radial-gradient(circle, #111 0%, #000 100%);
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--primary);
            font-weight: bold;
            font-size: 11px;
            letter-spacing: 1px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: 0.3s;
        }

        .finger-btn:active {
            transform: scale(0.92);
            background: var(--primary);
            color: black;
            box-shadow: 0 0 40px var(--primary);
        }

        /* --- Page 2: Night Wish --- */
        #page2 {
            display: none;
            opacity: 0;
            text-align: center;
        }

        .glow-text {
            font-size: 3.2rem;
            background: linear-gradient(to bottom, #fff, var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 900;
            margin: 0;
            filter: drop-shadow(0 0 15px rgba(0, 242, 254, 0.4));
        }

        #progressBar {
            width: 100%; height: 4px;
            background: rgba(255,255,255,0.05);
            margin-top: 25px;
            border-radius: 10px;
            overflow: hidden;
            display: none;
        }

        #fill { height: 100%; width: 0%; background: var(--primary); box-shadow: 0 0 10px var(--primary); }

        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <canvas id="mainCanvas"></canvas>

    <audio id="bgMusic" loop>
        <source src="night.mp3" type="audio/mpeg">
    </audio>

    <div id="page1" class="container">
        <div class="glass-card">
            <div style="font-size: 9px; letter-spacing: 4px; opacity: 0.7; color: var(--primary);">NEURAL CORE SCANNER v4.0</div>
            <div class="scanner-container">
                <div class="scan-ring"></div>
                <button class="finger-btn" id="scanBtn"
                        ontouchstart="startScan(event)" ontouchend="cancelScan()"
                        onmousedown="startScan(event)" onmouseup="cancelScan()">
                    INITIALIZE<br>AUTH
                </button>
            </div>
            <div id="progressBar"><div id="fill"></div></div>
            <p id="status" style="font-size: 11px; color: #666; font-family: monospace; margin-top: 15px;">WAITING FOR BIOMETRIC LINK</p>
        </div>
    </div>

    <div id="page2" class="container">
        <div>
            <h1 class="glow-text">GOOD NIGHT</h1>
            <p style="color: #bdc3c7; letter-spacing: 1px; line-height: 1.6; margin-top: 20px;">
               Sleep like you have no responsibilities tomorrow.
            </p>
            <div style="margin-top: 60px; font-size: 10px; color: var(--primary); opacity: 0.4; letter-spacing: 3px;">SESSION ENCRYPTED</div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('mainCanvas');
        const ctx = canvas.getContext('2d');
        const scanBtn = document.getElementById('scanBtn');
        const fill = document.getElementById('fill');
        const status = document.getElementById('status');
        const p1 = document.getElementById('page1');
        const p2 = document.getElementById('page2');
        const bgMusic = document.getElementById('bgMusic');

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playBeep(freq, duration, vol=0.05) {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(vol, audioCtx.currentTime);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        let progress = 0;
        let scanInterval;
        let isWarpMode = false;

        function startScan(e) {
            e.preventDefault();
            if(isWarpMode) return;
            document.getElementById('progressBar').style.display = 'block';
            playBeep(440, 0.1);
            
            scanInterval = setInterval(() => {
                if(progress < 100) {
                    progress += 1.5;
                    fill.style.width = progress + '%';
                    status.innerText = "LINKING NEURONS: " + Math.round(progress) + "%";
                    if(Math.round(progress) % 15 === 0) playBeep(550, 0.05);
                } else {
                    completeScan();
                }
            }, 30);
        }

        function cancelScan() {
            if(!isWarpMode && progress < 100) {
                clearInterval(scanInterval);
                progress = 0;
                fill.style.width = '0%';
                status.innerText = "LINK INTERRUPTED";
                playBeep(150, 0.2, 0.1);
            }
        }

        function completeScan() {
            clearInterval(scanInterval);
            isWarpMode = true;
            playBeep(880, 0.4, 0.1);
            
            // Play Background Music
            bgMusic.play().catch(e => console.log("Audio play failed: ", e));
            
            p1.style.opacity = '0';
            p1.style.transform = 'scale(0.9)';
            
            setTimeout(() => {
                p1.style.display = 'none';
                p2.style.display = 'flex';
                setTimeout(() => { p2.style.opacity = '1'; }, 50);
            }, 800);
        }

        // --- 3D / Design Background Engine ---
        let stars = [];
        let dataDrops = [];
        const dropCount = 50;

        function initStars() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            for(let i=0; i<400; i++) {
                stars.push({
                    x: (Math.random() - 0.5) * canvas.width * 2,
                    y: (Math.random() - 0.5) * canvas.height * 2,
                    z: Math.random() * canvas.width
                });
            }
            // Page 1 Data Drops
            for(let i=0; i<dropCount; i++) {
                dataDrops.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    len: Math.random() * 80 + 20,
                    speed: Math.random() * 5 + 2
                });
            }
        }

        function draw() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            ctx.fillStyle = isWarpMode ? "rgba(2, 2, 5, 0.2)" : "rgb(2, 2, 5)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            if (!isWarpMode) {
                // PAGE 1: Cyber Rainfall Design
                ctx.lineWidth = 1;
                dataDrops.forEach(d => {
                    let grad = ctx.createLinearGradient(0, d.y, 0, d.y + d.len);
                    grad.addColorStop(0, "transparent");
                    grad.addColorStop(1, "rgba(0, 242, 254, 0.4)");
                    
                    ctx.strokeStyle = grad;
                    ctx.beginPath();
                    ctx.moveTo(d.x, d.y);
                    ctx.lineTo(d.x, d.y + d.len);
                    ctx.stroke();

                    d.y += d.speed;
                    if (d.y > canvas.height) {
                        d.y = -d.len;
                        d.x = Math.random() * canvas.width;
                    }
                });

                // Soft Background Pulse based on progress
                let pulse = Math.sin(Date.now() / 500) * 10;
                let grad = ctx.createRadialGradient(canvas.width/2, canvas.height/2, 0, canvas.width/2, canvas.height/2, 300 + pulse + (progress * 2));
                grad.addColorStop(0, "rgba(0, 242, 254, 0.05)");
                grad.addColorStop(1, "transparent");
                ctx.fillStyle = grad;
                ctx.fillRect(0,0, canvas.width, canvas.height);

            } else {
                // PAGE 2: 3D Warp Speed
                const cx = canvas.width / 2;
                const cy = canvas.height / 2;
                stars.forEach(s => {
                    s.z -= 15;
                    if (s.z <= 0) s.z = canvas.width;
                    const x = cx + s.x / (s.z / cx);
                    const y = cy + s.y / (s.z / cy);
                    if (x > 0 && x < canvas.width && y > 0 && y < canvas.height) {
                        const size = (1 - s.z / canvas.width) * 3;
                        ctx.fillStyle = "white";
                        ctx.beginPath();
                        ctx.arc(x, y, size, 0, Math.PI * 2);
                        ctx.fill();
                    }
                });
            }
            requestAnimationFrame(draw);
        }

        initStars();
        draw();
    </script>
</body>
</html>